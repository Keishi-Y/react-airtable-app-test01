{"ast":null,"code":"import _regeneratorRuntime from\"/Users/k4/test-apps/react-airtable-app-test01/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/k4/test-apps/react-airtable-app-test01/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/k4/test-apps/react-airtable-app-test01/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";export default function Course(_ref){var course=_ref.course,refreshCourses=_ref.refreshCourses;var markCoursePurchased=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/courses\",{method:\"PUT\",body:JSON.stringify(_objectSpread({},course,{purchased:true}))});case 3:refreshCourses();_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function markCoursePurchased(){return _ref2.apply(this,arguments);};}();var deleteCourse=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"/api/courses\",{method:\"DELETE\",body:JSON.stringify({id:course.id})});case 3:refreshCourses();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function deleteCourse(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-item\"},/*#__PURE__*/React.createElement(\"a\",{href:course.link},/*#__PURE__*/React.createElement(\"h4\",{className:\"list-group-item-heading\"},course.name)),/*#__PURE__*/React.createElement(\"p\",null,\"Tags:\",\" \",course.tags&&course.tags.map(function(tag,index){return/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-primary mr-2\",key:index},tag);})),!course.purchased&&/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-primary\",onClick:markCoursePurchased},\"Purchased\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-danger ml-2\",onClick:deleteCourse},\"Delete\"));}","map":{"version":3,"sources":["/Users/k4/test-apps/react-airtable-app-test01/src/components/Course.js"],"names":["React","Course","course","refreshCourses","markCoursePurchased","fetch","method","body","JSON","stringify","purchased","console","error","deleteCourse","id","link","name","tags","map","tag","index"],"mappings":"4XAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,cAAe,SAASC,CAAAA,MAAT,MAA4C,IAA1BC,CAAAA,MAA0B,MAA1BA,MAA0B,CAAlBC,cAAkB,MAAlBA,cAAkB,CACzD,GAAMC,CAAAA,mBAAmB,2FAAG,yKAElBC,CAAAA,KAAK,CAAC,cAAD,CAAiB,CAC1BC,MAAM,CAAE,KADkB,CAE1BC,IAAI,CAAEC,IAAI,CAACC,SAAL,kBAAoBP,MAApB,EAA4BQ,SAAS,CAAE,IAAvC,GAFoB,CAAjB,CAFa,QAMxBP,cAAc,GANU,8EAQxBQ,OAAO,CAACC,KAAR,cARwB,mEAAH,kBAAnBR,CAAAA,mBAAmB,2CAAzB,CAYA,GAAMS,CAAAA,YAAY,2FAAG,gLAEXR,CAAAA,KAAK,CAAC,cAAD,CAAiB,CAC1BC,MAAM,CAAE,QADkB,CAE1BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEK,EAAE,CAAEZ,MAAM,CAACY,EAAb,CAAf,CAFoB,CAAjB,CAFM,QAMjBX,cAAc,GANG,kFAQjBQ,OAAO,CAACC,KAAR,eARiB,qEAAH,kBAAZC,CAAAA,YAAY,2CAAlB,CAWA,mBACE,2BAAK,SAAS,CAAC,iBAAf,eACE,yBAAG,IAAI,CAAEX,MAAM,CAACa,IAAhB,eACE,0BAAI,SAAS,CAAC,yBAAd,EAAyCb,MAAM,CAACc,IAAhD,CADF,CADF,cAIE,qCACQ,GADR,CAEGd,MAAM,CAACe,IAAP,EACCf,MAAM,CAACe,IAAP,CAAYC,GAAZ,CAAgB,SAACC,GAAD,CAAMC,KAAN,qBACd,4BAAM,SAAS,CAAC,0BAAhB,CAA2C,GAAG,CAAEA,KAAhD,EACGD,GADH,CADc,EAAhB,CAHJ,CAJF,CAaG,CAACjB,MAAM,CAACQ,SAAR,eACC,8BACE,SAAS,CAAC,wBADZ,CAEE,OAAO,CAAEN,mBAFX,cAdJ,cAqBE,8BAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAES,YAAxD,WArBF,CADF,CA2BD","sourcesContent":["import React from \"react\";\n\nexport default function Course({ course, refreshCourses }) {\n  const markCoursePurchased = async () => {\n    try {\n      await fetch(\"/api/courses\", {\n        method: \"PUT\",\n        body: JSON.stringify({ ...course, purchased: true }),\n      });\n      refreshCourses();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const deleteCourse = async () => {\n    try {\n      await fetch(\"/api/courses\", {\n        method: \"DELETE\",\n        body: JSON.stringify({ id: course.id }),\n      });\n      refreshCourses();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return (\n    <div className=\"list-group-item\">\n      <a href={course.link}>\n        <h4 className=\"list-group-item-heading\">{course.name}</h4>\n      </a>\n      <p>\n        Tags:{\" \"}\n        {course.tags &&\n          course.tags.map((tag, index) => (\n            <span className=\"badge badge-primary mr-2\" key={index}>\n              {tag}\n            </span>\n          ))}\n      </p>\n      {!course.purchased && (\n        <button\n          className=\"btn btn-sm btn-primary\"\n          onClick={markCoursePurchased}\n        >\n          Purchased\n        </button>\n      )}\n      <button className=\"btn btn-sm btn-danger ml-2\" onClick={deleteCourse}>\n        Delete\n      </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}