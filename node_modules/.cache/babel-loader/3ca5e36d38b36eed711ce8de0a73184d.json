{"ast":null,"code":"import _regeneratorRuntime from\"/Users/k4/test-apps/react-airtable-app-test01/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/k4/test-apps/react-airtable-app-test01/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/k4/test-apps/react-airtable-app-test01/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Tags from\"./Tags\";export default function CourseForm(_ref){var courseAdded=_ref.courseAdded;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),link=_useState4[0],setLink=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),count=_useState8[0],setCount=_useState8[1];var resetForm=function resetForm(){setName(\"\");setLink(\"\");setCount(count+1);};var submitCourse=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(\"/api/courses\",{method:\"POST\",body:JSON.stringify({name:name,link:link,tags:tags})});case 4:resetForm();courseAdded();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function submitCourse(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"Add a New Course\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{className:\"\",onSubmit:submitCourse},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,className:\"form-control\",onChange:function onChange(e){return setName(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"link\"},\"Link\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"link\",value:link,className:\"form-control\",onChange:function onChange(e){return setLink(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"p\",null,\"Tags\"),/*#__PURE__*/React.createElement(Tags,{tagsUpdated:setTags,key:count})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Submit\"))));}","map":{"version":3,"sources":["/Users/k4/test-apps/react-airtable-app-test01/src/components/CourseForm.js"],"names":["React","useState","Tags","CourseForm","courseAdded","name","setName","link","setLink","tags","setTags","count","setCount","resetForm","submitCourse","e","preventDefault","fetch","method","body","JSON","stringify","console","error","target","value"],"mappings":"6XAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,cAAe,SAASC,CAAAA,UAAT,MAAqC,IAAfC,CAAAA,WAAe,MAAfA,WAAe,eAC1BH,QAAQ,CAAC,EAAD,CADkB,wCAC3CI,IAD2C,eACrCC,OADqC,8BAE1BL,QAAQ,CAAC,EAAD,CAFkB,yCAE3CM,IAF2C,eAErCC,OAFqC,8BAG1BP,QAAQ,CAAC,EAAD,CAHkB,yCAG3CQ,IAH2C,eAGrCC,OAHqC,8BAIxBT,QAAQ,CAAC,CAAD,CAJgB,yCAI3CU,KAJ2C,eAIpCC,QAJoC,eAMlD,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBP,OAAO,CAAC,EAAD,CAAP,CACAE,OAAO,CAAC,EAAD,CAAP,CACAI,QAAQ,CAACD,KAAK,CAAG,CAAT,CAAR,CACD,CAJD,CAMA,GAAMG,CAAAA,YAAY,2FAAG,iBAAOC,CAAP,kHACnBA,CAAC,CAACC,cAAF,GADmB,sCAGXC,CAAAA,KAAK,CAAC,cAAD,CAAiB,CAC1BC,MAAM,CAAE,MADkB,CAE1BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBhB,IAAI,CAAJA,IADmB,CAEnBE,IAAI,CAAJA,IAFmB,CAGnBE,IAAI,CAAJA,IAHmB,CAAf,CAFoB,CAAjB,CAHM,QAWjBI,SAAS,GACTT,WAAW,GAZM,+EAcjBkB,OAAO,CAACC,KAAR,cAdiB,oEAAH,kBAAZT,CAAAA,YAAY,6CAAlB,CAkBA,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,aAAf,qBADF,cAEE,2BAAK,SAAS,CAAC,WAAf,eACE,4BAAM,SAAS,CAAC,EAAhB,CAAmB,QAAQ,CAAEA,YAA7B,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,MAAf,SADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAET,IAHT,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,CAAE,kBAACU,CAAD,QAAOT,CAAAA,OAAO,CAACS,CAAC,CAACS,MAAF,CAASC,KAAV,CAAd,EALZ,EAFF,CADF,cAWE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,MAAf,SADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAElB,IAHT,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,CAAE,kBAACQ,CAAD,QAAOP,CAAAA,OAAO,CAACO,CAAC,CAACS,MAAF,CAASC,KAAV,CAAd,EALZ,EAFF,CAXF,cAqBE,2BAAK,SAAS,CAAC,YAAf,eACE,oCADF,cAEE,oBAAC,IAAD,EAAM,WAAW,CAAEf,OAAnB,CAA4B,GAAG,CAAEC,KAAjC,EAFF,CArBF,cAyBE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,WAzBF,CADF,CAFF,CADF,CAoCD","sourcesContent":["import React, { useState } from \"react\";\nimport Tags from \"./Tags\";\n\nexport default function CourseForm({ courseAdded }) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [tags, setTags] = useState([]);\n  const [count, setCount] = useState(0);\n\n  const resetForm = () => {\n    setName(\"\");\n    setLink(\"\");\n    setCount(count + 1);\n  };\n\n  const submitCourse = async (e) => {\n    e.preventDefault();\n    try {\n      await fetch(\"/api/courses\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          name,\n          link,\n          tags,\n        }),\n      });\n      resetForm();\n      courseAdded();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">Add a New Course</div>\n      <div className=\"card-body\">\n        <form className=\"\" onSubmit={submitCourse}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              className=\"form-control\"\n              onChange={(e) => setName(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"link\">Link</label>\n            <input\n              type=\"text\"\n              name=\"link\"\n              value={link}\n              className=\"form-control\"\n              onChange={(e) => setLink(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <p>Tags</p>\n            <Tags tagsUpdated={setTags} key={count} />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}